# üß™ ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏° - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö AI ‡∏Ñ‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ

## üìã Overview ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

‡∏Ñ‡∏∏‡∏ì (User) ‡πÑ‡∏î‡πâ‡πÉ‡∏´‡πâ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°‡πÉ‡∏ô **‡∏´‡∏•‡∏≤‡∏¢‡∏î‡πâ‡∏≤‡∏ô** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö ‡πÇ‡∏î‡∏¢‡πÄ‡∏ô‡πâ‡∏ô **‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢** ‡πÅ‡∏•‡∏∞ **‡∏Å‡∏≤‡∏£‡πÅ‡∏¢‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå** ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏Ç‡πâ‡∏°‡∏á‡∏ß‡∏î

---

## üîê ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö Authentication & Authorization

### **1. ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å (Registration Testing)**

#### **‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö:**
- ‚úÖ **Position-based Role Assignment**: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏î‡πâ role ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
- ‚úÖ **Database Storage**: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô table ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà (users/officer/admin)
- ‚úÖ **Department Mapping**: ‡πÅ‡∏°‡∏õ‡∏Ñ‡∏ì‡∏∞‡∏Å‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

#### **Test Cases ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ô:**
```javascript
// Test 1: ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÄ‡∏õ‡πá‡∏ô User (‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤/‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå)
{
  position: "‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå",
  department: "‡∏Ñ‡∏ì‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®",
  expected_role: "user",
  expected_table: "users"
}

// Test 2: ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÄ‡∏õ‡πá‡∏ô Officer (‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà)
{
  position: "‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏ì‡∏∞",
  department: "‡∏Ñ‡∏ì‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®",
  expected_role: "officer", 
  expected_table: "officer"
}

// Test 3: ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÄ‡∏õ‡πá‡∏ô Admin (‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö)
{
  position: "‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö",
  department: "‡∏®‡∏π‡∏ô‡∏¢‡πå‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®",
  expected_role: "admin",
  expected_table: "admin"
}
```

#### **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£:**
- ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô table ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≤‡∏° role
- ‚úÖ role_id ‡∏ï‡πâ‡∏≠‡∏á‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏¢‡∏±‡∏á roles table ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‚úÖ department ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
- ‚úÖ password ‡∏ï‡πâ‡∏≠‡∏á hash ‡∏î‡πâ‡∏ß‡∏¢ bcrypt
- ‚úÖ email ‡∏ï‡πâ‡∏≠‡∏á unique ‡πÉ‡∏ô database

### **2. ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö (Login Testing)**

#### **‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö:**
- ‚úÖ **JWT Token Generation**: ‡πÑ‡∏î‡πâ token ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
- ‚úÖ **Role Information in Token**: token ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• role ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
- ‚úÖ **Cross-table Login**: login ‡∏î‡πâ‡∏ß‡∏¢ email ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÉ‡∏ô table ‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

#### **Test Scenarios:**
```javascript
// Scenario 1: Login ‡πÄ‡∏õ‡πá‡∏ô User
login("user@test.com", "password") 
‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ token ‡∏ó‡∏µ‡πà‡∏°‡∏µ role: "user"

// Scenario 2: Login ‡πÄ‡∏õ‡πá‡∏ô Officer  
login("officer@test.com", "password")
‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ token ‡∏ó‡∏µ‡πà‡∏°‡∏µ role: "officer", department: "‡∏Ñ‡∏ì‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®"

// Scenario 3: Login ‡πÄ‡∏õ‡πá‡∏ô Admin
login("admin@test.com", "password") 
‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ token ‡∏ó‡∏µ‡πà‡∏°‡∏µ role: "admin"
```

---

## üè¢ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ï‡∏≤‡∏° Department (‡∏´‡∏•‡∏±‡∏Å!)

### **3. ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå Officer (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å!)**

#### **‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö:**

##### **A. Officer ‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏Ç‡∏≠‡∏á Department ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô**
```javascript
// Test Setup:
// - Officer A: department = "‡∏Ñ‡∏ì‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®"
// - Officer B: department = "‡∏Ñ‡∏ì‡∏∞‡∏Ñ‡∏£‡∏∏‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå"
// - User ‡∏à‡∏≠‡∏á room ‡∏Ç‡∏≠‡∏á ‡∏Ñ‡∏ì‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®

// Test Case 1: Officer A ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á
GET /api/protected/officer/reservations (Officer A token)
‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏Ç‡∏≠‡∏á ‡∏Ñ‡∏ì‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®

// Test Case 2: Officer B ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á
GET /api/protected/officer/reservations (Officer B token)  
‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏Ç‡∏≠‡∏á ‡∏Ñ‡∏ì‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏® (empty array)
```

##### **B. Officer ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÑ‡∏î‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏´‡πâ‡∏≠‡∏á‡πÉ‡∏ô Department ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á**
```javascript
// Test Setup:
// - Reservation ID 123: room ‡∏Ç‡∏≠‡∏á ‡∏Ñ‡∏ì‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®
// - Reservation ID 456: room ‡∏Ç‡∏≠‡∏á ‡∏Ñ‡∏ì‡∏∞‡∏Ñ‡∏£‡∏∏‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå

// Test Case 1: Officer A ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÉ‡∏ô department ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á (‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à)
POST /api/protected/officer/reservations/123/approve (Officer A token)
‚Üí Status: 200, reservation status = "approved"

// Test Case 2: Officer A ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ç‡πâ‡∏≤‡∏° department (‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏π‡∏Å‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò)
POST /api/protected/officer/reservations/456/approve (Officer A token)
‚Üí Status: 403, message: "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏ô‡∏µ‡πâ"
```

##### **C. Officer ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Department ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á**
```javascript
// Test Case 1: ‡∏î‡∏π‡∏´‡πâ‡∏≠‡∏á‡πÉ‡∏ô department ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
GET /api/protected/officer/rooms (Officer A token)
‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏´‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á ‡∏Ñ‡∏ì‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®

// Test Case 2: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡πâ‡∏≠‡∏á‡πÉ‡∏ô department ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á (‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à)
POST /api/protected/officer/rooms (Officer A token)
{
  room_name: "‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏° IT-301",
  department: "‡∏Ñ‡∏ì‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®"
}
‚Üí Status: 201, ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

// Test Case 3: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡πâ‡∏≠‡∏á‡∏Ç‡πâ‡∏≤‡∏° department (‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏π‡∏Å‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò)
POST /api/protected/officer/rooms (Officer A token)
{
  room_name: "‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏° ED-201", 
  department: "‡∏Ñ‡∏ì‡∏∞‡∏Ñ‡∏£‡∏∏‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå"
}
‚Üí Status: 403, message: "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏ô‡∏µ‡πâ"
```

---

## üìÖ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏° (Advanced Features)

### **4. ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö Conflict Detection**

#### **‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö:**
- ‚úÖ **Multi-day Booking Conflicts**: ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏´‡∏•‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ã‡πâ‡∏≠‡∏ô‡∏ó‡∏±‡∏ö
- ‚úÖ **Same-day Time Conflicts**: ‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á
- ‚úÖ **Partial-day Overlaps**: ‡∏Å‡∏≤‡∏£‡∏ã‡πâ‡∏≠‡∏ô‡∏ó‡∏±‡∏ö‡πÅ‡∏ö‡∏ö‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô
- ‚úÖ **Edge Cases**: ‡πÄ‡∏ß‡∏•‡∏≤‡∏ï‡∏¥‡∏î‡∏Å‡∏±‡∏ô (‡∏à‡∏ö‡∏û‡∏≠‡∏î‡∏µ‡πÄ‡∏£‡∏¥‡πà‡∏°)

#### **Test Scenarios (Advanced Booking):**
```javascript
// Scenario 1: Multi-day Conference
// Base: ‡∏à‡∏≠‡∏á 20-22 Dec 2024, 9:00-17:00
// Test: ‡∏à‡∏≠‡∏á 21 Dec 2024, 10:00-11:00 ‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á (409)

// Scenario 2: Same-day Overlaps  
// Base: ‡∏à‡∏≠‡∏á 25 Dec 2024, 9:00-11:00
// Test: ‡∏à‡∏≠‡∏á 25 Dec 2024, 10:30-12:30 ‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á (409)

// Scenario 3: Same-day Non-overlapping
// Base: ‡∏à‡∏≠‡∏á 25 Dec 2024, 9:00-11:00 ‡πÅ‡∏•‡∏∞ 14:00-16:00
// Test: ‡∏à‡∏≠‡∏á 25 Dec 2024, 12:00-13:00 ‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (201)

// Scenario 4: Edge Case - Adjacent Times
// Base: ‡∏à‡∏≠‡∏á 25 Dec 2024, 9:00-11:00
// Test: ‡∏à‡∏≠‡∏á 25 Dec 2024, 11:00-14:00 ‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (201)
```

### **5. ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö Calendar API**

#### **‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö:**
- ‚úÖ **Basic Calendar**: ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡πÉ‡∏ô month/year
- ‚úÖ **Detailed Calendar**: ‡πÅ‡∏™‡∏î‡∏á hourly time slots 
- ‚úÖ **Availability Status**: ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ available/booked ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á

#### **Test Cases:**
```javascript
// Test 1: Basic Calendar
GET /api/reservations/calendar/1?month=12&year=2024
‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ list ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡πÉ‡∏ô December 2024

// Test 2: Detailed Calendar  
GET /api/reservations/calendar/1?month=12&year=2024&detailed=true
‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ hourly slots ‡∏û‡∏£‡πâ‡∏≠‡∏° availability status

// Test 3: Empty Month
GET /api/reservations/calendar/1?month=1&year=2025  
‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ empty calendar ‡πÅ‡∏ï‡πà‡∏°‡∏µ daily_availability structure
```

---

## üëë ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö Admin

### **6. ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå Admin**

#### **‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö:**
- ‚úÖ **User Management**: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡πÑ‡∏î‡πâ
- ‚úÖ **Executive Data Access**: ‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• executive ‡πÑ‡∏î‡πâ
- ‚úÖ **Statistics**: ‡∏î‡∏π‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÑ‡∏î‡πâ

#### **Test Cases:**
```javascript
// Test 1: Admin ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à)
GET /api/protected/admin/all-users (Admin token)
‚Üí Status: 200, ‡πÑ‡∏î‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å 3 tables (users, officer, admin)

// Test 2: Admin promote user ‡πÄ‡∏õ‡πá‡∏ô officer (‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à)
POST /api/protected/admin/promote/user-to-officer (Admin token)
‚Üí Status: 200, ‡∏¢‡πâ‡∏≤‡∏¢ user ‡∏à‡∏≤‡∏Å users table ‚Üí officer table

// Test 3: Admin ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏° (‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏π‡∏Å‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò)
POST /api/protected/officer/rooms (Admin token)
‚Üí Status: 403, message: "Admin ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°"
```

---

## üèõÔ∏è ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö Executive (READ ONLY)

### **7. ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå Executive**

#### **‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö:**
- ‚úÖ **Read-only Access**: ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ
- ‚úÖ **University vs Faculty Executive**: ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏ï‡∏≤‡∏° position

#### **Test Cases:**
```javascript
// Test 1: University Executive ‡∏î‡∏π report ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ì‡∏∞ (‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à)
GET /api/protected/executive/reports (University Executive token)
‚Üí Status: 200, ‡πÑ‡∏î‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ì‡∏∞

// Test 2: Faculty Executive ‡∏î‡∏π report ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ñ‡∏ì‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á (‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à)
GET /api/protected/executive/reports (Faculty Executive token)
‚Üí Status: 200, ‡πÑ‡∏î‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ñ‡∏ì‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á

// Test 3: Executive ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏π‡∏Å‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò)
POST /api/protected/officer/rooms (Executive token)
‚Üí Status: 403, message: "Executive ‡πÄ‡∏õ‡πá‡∏ô read-only"
```

---

## üîÑ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö Workflow ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á

### **8. ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö Complete Reservation Flow**

#### **‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö:**
- ‚úÖ **User ‚Üí Officer ‚Üí Status Change**: ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå
- ‚úÖ **Department Isolation**: Officer ‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏Ñ‡πà‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡πÉ‡∏ô department ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
- ‚úÖ **Status Transitions**: pending ‚Üí approved/rejected

#### **Complete Test Scenario:**
```javascript
// Step 1: User ‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏Ñ‡∏ì‡∏∞ IT
POST /api/protected/reservations (User token)
{
  room_id: 1, // ‡∏´‡πâ‡∏≠‡∏á‡∏Ñ‡∏ì‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®
  start_at: "2024-12-25",
  start_time: "09:00",
  end_time: "11:00",
  details_r: "‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏á‡∏≤‡∏ô"
}
‚Üí Status: 201, reservation status = "pending"

// Step 2: Officer ‡∏Ñ‡∏ì‡∏∞ IT ‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á
GET /api/protected/officer/reservations (IT Officer token)
‚Üí Status: 200, ‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏Ç‡∏≠‡∏á User

// Step 3: Officer ‡∏Ñ‡∏ì‡∏∞‡∏≠‡∏∑‡πà‡∏ô ‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á
GET /api/protected/officer/reservations (Education Officer token)
‚Üí Status: 200, ‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏Ç‡∏≠‡∏á User (empty array)

// Step 4: Officer ‡∏Ñ‡∏ì‡∏∞ IT ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
POST /api/protected/officer/reservations/{id}/approve (IT Officer token)
‚Üí Status: 200, reservation status = "approved"

// Step 5: Officer ‡∏Ñ‡∏ì‡∏∞‡∏≠‡∏∑‡πà‡∏ô ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ (‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏π‡∏Å‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò)
POST /api/protected/officer/reservations/{id}/approve (Education Officer token)
‚Üí Status: 403, message: "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏ô‡∏µ‡πâ"
```

---

## üìä ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö Data Integrity

### **9. ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**

#### **‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö:**
- ‚úÖ **Referential Integrity**: Foreign keys ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‚úÖ **Data Consistency**: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Ç‡πâ‡∏≤‡∏° tables
- ‚úÖ **Validation Rules**: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡πà‡∏≤‡∏ô validation

#### **Test Cases:**
```javascript
// Test 1: Department Consistency
// Officer department ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö room department ‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£

// Test 2: Role Mapping  
// role_id ‡πÉ‡∏ô users/officer/admin tables ‡∏ï‡πâ‡∏≠‡∏á‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏¢‡∏±‡∏á roles table ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

// Test 3: Reservation Relationships
// reservation.user_id ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô users table
// reservation.room_id ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô meeting_room table
// reservation.officer_id ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô officer table (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
```

---

## üöÄ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö Performance & Scalability

### **10. ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û**

#### **‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö:**
- ‚úÖ **API Response Time**: < 100ms ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö query ‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤
- ‚úÖ **Concurrent Bookings**: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ
- ‚úÖ **Large Dataset**: ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å

#### **Test Scenarios:**
```javascript
// Test 1: Concurrent Booking Conflicts
// 2 users ‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô
// ‚Üí ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ 1 ‡∏Ñ‡∏ô‡πÑ‡∏î‡πâ ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ 409 Conflict

// Test 2: Heavy Load Testing  
// Officer ‡∏î‡∏π‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á 1000+ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
// ‚Üí ‡∏ï‡πâ‡∏≠‡∏á response ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 200ms

// Test 3: Complex Calendar Query
// Calendar API ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á 100+ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
// ‚Üí ‡∏ï‡πâ‡∏≠‡∏á response ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 300ms
```

---

## üìù Test Scripts ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà

### **‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ:**

1. **`test-api-conflicts.js`** - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Advanced Booking Conflicts
2. **`test-reservation-flow.js`** - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Complete Workflow
3. **`test-advanced-scenarios.js`** - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Complex Scenarios
4. **`setup-test-data.js`** - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏î‡∏™‡∏≠‡∏ö
5. **`run-tests.ps1`** - ‡∏£‡∏±‡∏ô‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

### **‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô‡∏ó‡∏î‡∏™‡∏≠‡∏ö:**
```bash
# ‡∏£‡∏±‡∏ô‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
.\run-tests.ps1

# ‡∏£‡∏±‡∏ô‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏¢‡∏Å‡∏ï‡∏±‡∏ß
bun test-api-conflicts.js      # Advanced booking conflicts
bun test-reservation-flow.js   # Complete workflow
bun setup-test-data.js         # Setup data first
```

---

## ‚úÖ ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏∏‡∏Å Test

### **Critical Success Criteria:**

#### **1. Security (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢)**
- ‚ùå **‡∏´‡πâ‡∏≤‡∏°** Officer ‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡πâ‡∏≤‡∏° department
- ‚ùå **‡∏´‡πâ‡∏≤‡∏°** User ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡πÑ‡∏î‡πâ
- ‚ùå **‡∏´‡πâ‡∏≤‡∏°** Admin ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡πÑ‡∏î‡πâ
- ‚ùå **‡∏´‡πâ‡∏≤‡∏°** Executive ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏î‡πÜ ‡πÑ‡∏î‡πâ

#### **2. Data Integrity (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)**
- ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô table ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≤‡∏° role
- ‚úÖ Department mapping ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á 100%
- ‚úÖ Foreign keys ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‚úÖ Validation rules ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô

#### **3. Business Logic (‡∏ï‡∏£‡∏£‡∏Å‡∏∞‡∏ó‡∏≤‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à)**
- ‚úÖ Conflict detection ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô 100% ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‚úÖ Workflow ‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå
- ‚úÖ Calendar API ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥
- ‚úÖ Time zone handling ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

#### **4. Performance (‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û)**
- ‚úÖ API response < 100ms
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö concurrent users
- ‚úÖ Scalable architecture

---

## üéØ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

### **Test Cases ‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡∏Ç‡∏≤‡∏î:**

1. **Email Validation Testing** - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö email format
2. **Password Security Testing** - ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á‡∏Ç‡∏≠‡∏á password
3. **Session Management Testing** - JWT expiration
4. **File Upload Testing** - ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏° (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
5. **Audit Trail Testing** - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
6. **Backup/Recovery Testing** - ‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

### **Integration Testing:**
1. **Database Migration Testing** - ‡∏Å‡∏≤‡∏£ migrate schema
2. **Environment Testing** - Dev/Staging/Production
3. **Cross-browser Testing** - ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ Frontend
4. **Mobile Responsiveness** - ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ Mobile App

---

## üîç Tips ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö AI ‡∏Ñ‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ

### **‡∏™‡∏¥‡πà‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏≥:**

1. **Department Isolation ‡∏Ñ‡∏∑‡∏≠‡∏´‡∏±‡∏ß‡πÉ‡∏à** - Officer ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏Ñ‡πà‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
2. **3-Table System** - ‡πÅ‡∏ï‡πà‡∏•‡∏∞ role ‡πÅ‡∏¢‡∏Å table = ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏™‡∏π‡∏á
3. **Advanced Conflict Detection** - Algorithm ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å edge case
4. **Real User Scenarios** - ‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢
5. **Performance Matters** - Response time ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö production

### **‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û:**
```bash
# 1. Setup ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏î‡∏™‡∏≠‡∏ö
bun setup-test-data.js

# 2. ‡∏£‡∏±‡∏ô server
$env:PORT=8001; bun index.js

# 3. ‡∏£‡∏±‡∏ô‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
.\run-tests.ps1

# 4. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏ô console
# 5. ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå error logs (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
```

**‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠ ‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á!** üöÄ
